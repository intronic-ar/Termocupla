Version 4
SHEET 1 6036 836
WIRE 1408 -128 1408 -160
WIRE 1872 -80 1872 -128
WIRE 432 -64 432 -96
WIRE 432 -64 208 -64
WIRE 576 -64 432 -64
WIRE 640 -64 576 -64
WIRE 800 -64 720 -64
WIRE 1088 -64 1088 -128
WIRE 1088 -64 800 -64
WIRE 1216 -64 1216 -80
WIRE 1216 -64 1088 -64
WIRE 1264 -64 1216 -64
WIRE 1408 -64 1344 -64
WIRE 1840 -64 1408 -64
WIRE 576 -32 576 -64
WIRE 800 -32 800 -64
WIRE 1840 -32 1792 -32
WIRE 208 -16 208 -64
WIRE 1408 -16 1408 -64
WIRE 1792 -16 1792 -32
WIRE 1792 -16 1760 -16
WIRE 2048 16 2016 16
WIRE 2160 16 2128 16
WIRE 2192 16 2160 16
WIRE 2160 48 2160 16
WIRE 1840 64 1760 64
WIRE 208 96 208 64
WIRE 432 96 208 96
WIRE 1088 96 432 96
WIRE 1216 96 1088 96
WIRE 1264 96 1216 96
WIRE 1408 96 1408 48
WIRE 1408 96 1344 96
WIRE 1840 96 1408 96
WIRE 1216 112 1216 96
WIRE 1088 144 1088 96
WIRE 1872 144 1872 112
WIRE 432 160 432 96
WIRE 880 192 624 192
WIRE 944 192 880 192
WIRE 1216 208 1216 192
WIRE 1408 208 1408 160
WIRE 624 224 624 192
WIRE 880 224 880 192
WIRE 1664 224 1632 224
WIRE 1776 224 1744 224
WIRE 1952 224 1952 80
WIRE 1952 224 1776 224
WIRE 576 240 560 240
WIRE 320 256 224 256
WIRE 336 256 320 256
WIRE 1280 272 1216 272
WIRE 1312 272 1280 272
WIRE 224 288 224 256
WIRE 320 288 320 256
WIRE 576 288 560 288
WIRE 176 304 160 304
WIRE 1216 304 1216 272
WIRE 1280 304 1280 272
WIRE 880 320 880 304
WIRE 1168 320 1152 320
WIRE 624 336 624 304
WIRE 1696 336 1696 320
WIRE 176 352 160 352
WIRE 1632 352 1632 224
WIRE 1664 352 1632 352
WIRE 2096 352 2096 320
WIRE 2192 352 2192 320
WIRE 1168 368 1152 368
WIRE 1776 368 1776 224
WIRE 1776 368 1728 368
WIRE 1936 368 1776 368
WIRE 880 384 608 384
WIRE 960 384 880 384
WIRE 1504 384 1504 368
WIRE 1504 384 1408 384
WIRE 1664 384 1504 384
WIRE 224 400 224 368
WIRE 320 400 320 368
WIRE 1408 400 1408 384
WIRE 1504 400 1504 384
WIRE 608 416 608 384
WIRE 880 416 880 384
WIRE 960 416 960 384
WIRE 1216 416 1216 384
WIRE 1280 416 1280 384
WIRE 1696 416 1696 400
WIRE 2096 464 2096 432
WIRE 2192 464 2192 432
WIRE 1408 480 1408 464
WIRE 608 528 608 496
WIRE 880 528 880 496
FLAG 224 400 0
FLAG 320 400 0
FLAG 160 304 +Thot
FLAG 160 352 -Thot
FLAG 336 256 Vhot
FLAG 576 -32 +Tcj
FLAG 800 -32 -Tcj
FLAG 624 336 0
FLAG 560 240 +Tcj
FLAG 560 288 -Tcj
FLAG 608 528 0
FLAG 880 528 0
FLAG 880 320 0
FLAG 944 192 Vcj
FLAG 960 416 Tcj
FLAG 432 -96 +Thot
FLAG 432 160 -Thot
FLAG 2096 464 0
FLAG 2096 320 Vcc
FLAG 1088 -128 VthermP
FLAG 1088 144 VthermN
FLAG 1216 208 0
FLAG 1408 -160 0
FLAG 1408 208 0
FLAG 1872 144 0
FLAG 1872 -128 Vcc
FLAG 1504 480 0
FLAG 1696 320 Vcc
FLAG 1696 416 0
FLAG 1936 368 Vref
FLAG 2160 112 0
FLAG 1408 480 0
FLAG 2192 464 0
FLAG 2192 320 Vadc_ref
FLAG 1216 -160 Vadc_ref
FLAG 1504 288 Vadc_ref
FLAG 2192 16 Vout
FLAG 1216 416 0
FLAG 1280 416 0
FLAG 1312 272 Vtherm
FLAG 1152 320 VthermP
FLAG 1152 368 VthermN
SYMBOL voltage 624 -64 R270
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 -51 32 VRight 2
WINDOW 3 -76 28 VRight 2
SYMATTR InstName COLD
SYMATTR Value {vref}
SYMBOL e 224 272 R0
SYMATTR InstName E1
SYMATTR Value 1
SYMBOL res 304 272 R0
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL e 624 208 R0
SYMATTR InstName E2
SYMATTR Value 1
SYMBOL voltage 608 400 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 -74 41 Left 2
WINDOW 3 -90 103 Left 2
SYMATTR InstName Tcj
SYMATTR Value {REF}
SYMBOL res 864 400 R0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res 864 208 R0
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL voltage 2096 336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vcc
SYMATTR Value 5
SYMBOL cap 1392 -16 R0
SYMATTR InstName Cdiff
SYMATTR Value 22n
SYMBOL cap 1392 -128 R0
WINDOW 0 23 -10 Left 2
WINDOW 3 27 12 Left 2
SYMATTR InstName CmP
SYMATTR Value 2.2n
SYMBOL cap 1392 96 R0
WINDOW 0 24 49 Left 2
WINDOW 3 28 69 Left 2
SYMATTR InstName CmN
SYMATTR Value 2.2n
SYMBOL res 1360 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 4.02k
SYMBOL res 1360 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 4.02k
SYMBOL res 1200 -176 R0
WINDOW 0 39 26 Left 2
WINDOW 3 39 51 Left 2
SYMATTR InstName RAcm
SYMATTR Value 71.5k
SYMBOL res 1200 96 R0
WINDOW 0 38 55 Left 2
WINDOW 3 36 83 Left 2
SYMATTR InstName RBcm
SYMATTR Value 49.9k
SYMBOL res 1776 -32 M0
WINDOW 0 38 55 Left 2
WINDOW 3 36 83 Left 2
SYMATTR InstName Rg
SYMATTR Value 2.08k
SYMBOL res 1488 272 R0
WINDOW 0 -40 40 Left 2
WINDOW 3 -107 65 Left 2
SYMATTR InstName Ra
SYMATTR Value 1.37Meg
SYMBOL res 1488 384 R0
SYMATTR InstName Rb
SYMATTR Value 215k
SYMBOL opamps\\ADA4051 1696 304 R0
WINDOW 3 33 96 Left 2
SYMATTR InstName U1
SYMBOL cap 1392 400 R0
SYMATTR InstName C1
SYMATTR Value 0.1µ
SYMBOL Opamps\\LT1789-1 1872 16 R0
WINDOW 3 -148 -118 Left 2
SYMATTR InstName U3
SYMBOL voltage 2192 336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vref
SYMATTR Value 5
SYMBOL cap 2144 48 R0
WINDOW 3 43 54 Left 2
SYMATTR Value 10n
SYMATTR InstName Cfilter
SYMBOL res 2144 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rout
SYMATTR Value 31.6k
SYMBOL voltage 208 -32 R0
WINDOW 3 41 68 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value {vjunc}
SYMATTR InstName HOT
SYMBOL e 1216 288 R0
SYMATTR InstName E3
SYMATTR Value 1
SYMBOL res 1264 288 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 1760 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rspice
SYMATTR Value 100
TEXT 512 -176 Left 3 ;Type J Thermocouple System
TEXT 640 48 Left 2 ;Isotherm
TEXT 1792 -472 Left 2 !.op\n.param REF=30\n.step param JUNC -40 750 10
TEXT 744 -120 Left 2 ;Cold Junction
TEXT 184 -120 Left 2 ;Hot Junction
TEXT 680 248 Left 2 ;Cold Junction\nemf referenced\nto 0C
TEXT 1792 -568 Left 2 ;REF = 30--> Cold Junction = 30C\n-40<= JUNC <= 750 \nVhot = Vtherm + Vcj
TEXT 296 -48 Left 2 ;Iron (+)
TEXT 216 112 Left 2 ;Constantan (-)
TEXT 544 -88 Left 2 ;Iron (+)
TEXT 728 -88 Left 2 ;Constantan (-)
TEXT 64 -720 Left 2 ;REF = Cold Junction  temp (C) \nAssume Cold Junction temperature (REF) < 760C\nvref = Type J thermocouple EMF at Cold Jucntion\nJUNC = Hot JunctionTemperature\nvjunc = Type J thermocouple EMF at Hot Junction\nAssuming JUNC <= 760C to use simpler model\nThe following 8 paramers are polynomial coefficents modeling the Type J emf vs T from -210C through 760C
TEXT 816 360 Left 2 ;(1V = 1degC)
TEXT 64 -768 Left 3 ;Type J Thermocouple Model
TEXT 1784 -616 Left 3 ;Type J Thermocouple Simulation Case:
TEXT 648 432 Left 2 ;Cold Junction\nTemperature in C
TEXT 112 192 Left 2 ;Hot Junction\nemf referenced\nto 0C
TEXT 2224 256 Left 2 ;ADC reference\nvoltage at 5V
TEXT 1880 312 Left 2 ;V_INA_REF\nset to 0.6782V
TEXT 1568 -40 Left 2 ;Vcm input\nset at 2.048V
TEXT 2024 -80 Left 2 ;Noise limiting \nFilter set at 500Hz
TEXT 2008 240 Left 2 ;Single supply\nat +5V
TEXT 1464 -208 Left 3 ;Conditioning Circuitry
TEXT 1528 136 Left 2 ;INA gain set to 97.15V/V
TEXT 64 -512 Left 2 !.param c0=0, c1=0.50382E-1, c2=0.30476E-4,  c3=-0.85681E-7, c4=0.13228E-9\n.param c5=-0.17053E-12, c6=0.20948E-15, c7=-0.12538E-18, c8=0.15632E-22\n \n.param vjunc= {(1/1000) *(c0 + c1*JUNC + c2*JUNC**2  + c3*JUNC**3 + c4*JUNC**4 + c5*JUNC**5 \n+ +c6*JUNC**6 + c7*JUNC**7 + c8*JUNC**8)}\n \n.param vref={(1/1000) *(c0 + c1*REF + c2*REF**2  + c3*REF**3 + c4*REF**4 + c5*REF**5 + c6*REF**6 + c7*REF**7 + c8*REF**8)}
TEXT 1080 -16 Left 2 ;INA Differential\nThermocouple \nInputs
TEXT 1112 472 Left 2 ;Differential\nThermocouple\nVoltage at\nMeasurement point
TEXT 1800 -368 Left 2 ;Rspice used for faster convergence\nand not needed on a final PCB.
RECTANGLE Normal 1008 576 496 160 1
RECTANGLE Normal 1008 128 480 -208 1
RECTANGLE Normal 448 432 80 -192 1
RECTANGLE Normal 2416 576 1024 -272 1
RECTANGLE Normal 1728 -304 32 -800
RECTANGLE Normal 2400 -304 1776 -640
